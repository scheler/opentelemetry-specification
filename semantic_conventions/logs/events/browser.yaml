groups:
  - id: browser.page_view
    name: page_view
    prefix: browser
    type: event
    brief: >
      Connection-level attributes for Microsoft SQL Server
    attributes:
      - ref: http.url
        examples: ['https://en.wikipedia.org/wiki/Main_Page', 'https://en.wikipedia.org/wiki/Main_Page#foo']
        note: The URL fragment may be included for virtual pages
      - id: page.referrer
        type: string
        brief: Referrer URL for the browser page (`document.referrer`)
        examples: ['https://en.wikipedia.org/wiki/Main_Page']
      - id: page.type
        brief: Browser page type
        requirement_level: required
        type:
          allow_custom_values: false
          members:
            - id: physical_page
              value: 0
            - id: virtual_page
              value: 1
      - id: page.user_consent
        type: boolean
        brief: Whether or not user provided consent on the page (consent for what?)
  - id: browser.ajax
    name: ajax
    prefix: browser
    type: event
    brief: >
      Connection-level attributes for Microsoft SQL Server
    attributes:
      - ref: http.url
      - ref: http.method
      - ref: http.status_code
      - ref: http.request_content_length
      - ref: http.response_content_length
      # TODO: Add the following to http sem conv
      # - ref: http.response_content_length_uncompressed
      # TODO: how do we add http.request.header.<key> and http.response.header.<key> here
      - id: page.url
        type: string
        brief: The URL of the page that made the Ajax call
        examples: ['https://en.wikipedia.org/wiki/Main_Page']
      - id: request_type
        brief: Ajax request type
        requirement_level: required
        type:
          allow_custom_values: false
          members:
            - id: fetch
              value: 0
            - id: xhr
              value: 1
  - id: browser.exception
    name: exception
    type: event
    brief: Browser exception
    attributes:
      - ref: exception.message
      - ref: exception.type
      - ref: exception.stacktrace
      # The following attributes are without a namespace
      # Should we use the prefix `browser.exception`?
      - id: file_name
        type: string
        brief: Name of the file that generated the error
        examples: ['foo.js']
      - id: line_number
        type: int
        brief: Name of the file that generated the error
      - id: column_number
        type: int
        brief: Name of the file that generated the error
  - id: browser.user_action
    name: user_action
    type: event
    brief: Browser User Interaction
    attributes:
      - id: element
        type: string
        brief: Target element tag name (obtained via `event.target.tagName`)
        examples: ['button']
      - id: element_xpath
        type: string
        brief: Target element xpath
        examples: ['//*[@id="testBtn"]']
      - id: user_action.type
        type: string
        brief: Type of interaction. See enum [here](https://github.com/microsoft/ApplicationInsights-JS/blob/941ec2e4dbd017b8450f2b17c60088ead1e6c428/extensions/applicationinsights-clickanalytics-js/src/Enums.ts)
        examples: ['clickleft']
      - id: click_coordinates
        type: string
        brief: Click coordinates captured as a string in the format {x}X{y}.  Eg. 345X23
        examples: ['345X23']
      - id: tags
        type: string[]
        brief: Grab data from data-otel-* attributes in tree
        examples: ['data-otel-asd="value" -> asd attr w/ "value"']
